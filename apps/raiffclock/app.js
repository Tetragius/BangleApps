require("Font8x16").add(Graphics);

const font = 4;
const bkg = '#2b2d33';
const white = '#fff';
const wnd = require("heatshrink").decompress(atob("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"))
const logo = require("heatshrink").decompress(atob("mEwyATQnPFveE1sC81g+3A/8gANYxB5vBylDqVlOLohBK94BPMoJdZ+3gLfoBHf4K5TKv4BL81gLv5hrtckJv4BT5vBL45rBJf4BVLouUoZH/AK/24BdBnPGXv7BdveEIf4BbXYOtgRD/ALvWkJB/ALv24AffcYIbzAMfu4FrkMQ0QBBmOC6vgDqIbH2pf4rXCIIYBDkMiMJ5dFAIcY4XFwBdz0mhII5hRveBDZbDBL+dB8RDLIofmsAZFxfhDJrBz93AWIJFNMIf24AZBzlBC54pBZ4JfvJIKtBU49a4TLFIovmoB5DWYOk0LXJ6vgL94BFMItrkJLFJIYTHBYIJBCZIB5Joa3BVZILBBI5fDLv4BDzlB+3AL44BJL4ek4Jd/AI/V8EhkRfNY4JT/MLdrkJP/AJ+k4K9LoPi+3AKP69ZYP5dhMP4BL81ALpMxwWcoJh/Lp5TBLpPmsARBxfhMJILBLv5dPAIZh/Lrph/LsJhNjGizlBMOtSoRdXMJcY4W1LugBB93AoPiH4MhkXV8AfVtchLoek4Jd1MIrDBLq5hFLr/24B95AMfWkJB/ALuk0RB/ALti8hB/ALfWgMps324BF/ALN7wkAgGUoZF/AK/msC9BL4IAB82AJP69ZAAv24BL/AKOs8RdHAAJpBJv4BP60BnPGL5JhDYf4BL5uhnPFLpYADoUl81gK/4BFylDlNmLp4ADCoLFBMfv24GtgVCgpbTMZNSwp/B3ti5vBNIIBrF4Ok0SdBnPGXJ4A="))

function window() {
  g.drawImage(logo, 100, 24);
  g.drawImage(wnd, 24, 104);
  g.drawImage(wnd, 72, 104);
  g.drawImage(wnd, 130, 104);
  g.drawImage(wnd, 176, 104);
}

function drawClock() {
  var t = new Date();
  var h = t.getHours();
  var m = t.getMinutes();
  var time = (("0" + h).substr(-2) + ("0" + m).substr(-2)).split('');

  g.setFont("8x16", font);
  g.setFontAlign(0, 0, 0);
  g.drawString(time[0], 48, 140);
  g.drawString(time[1], 96, 140);
  g.drawString(time[2], 154, 140);
  g.drawString(time[3], 200, 140);

}

function drawAll() {
  g.clearRect(0, 0, 240, 240);
  g.setColor(bkg);
  g.fillRect(0, 0, 240, 240);
  window();  
  g.setColor(white);
  drawClock();
}

Bangle.on('lcdPower', function(on) {
  if (on) drawAll();
});

g.clear();
// Show launcher when button pressed
Bangle.setUI("clock");
Bangle.loadWidgets();
Bangle.drawWidgets();
setInterval(drawAll, 1E4);
drawAll();
